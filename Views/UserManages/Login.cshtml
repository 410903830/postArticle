@model postArticle.viewmodel.RegisterViewModel
@{
    ViewBag.Title = "Login";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
    body {
        background-color: #DBF0D0;
    }

    .window_content {
        position: relative;
        width: 470px;
        height: 445px;
        margin: auto;
        top: 20px;
        border-radius: 5px;
        background-color: #ffffff;
    }

    @@media screen and (max-width:769px) {
        .window_content {
            position: relative;
            width: 100%;
            height: 445px;
            margin: auto;
            top: 20px;
            border-radius: 5px;
            background-color: #ffffff;
        }
    }


    .alert-no-border {
        border: none;
        background-color: inherit;
        color: red;
    }

    a{
        text-decoration: none;
        font-size:17px;
        font-weight:500;
    }

    a:hover{
        color:darkslategrey;
    }


</style>

        <div class="container-panel" style="height:73vh; margin-top:110px;">
                <div class="window_content">
                        @using (Html.BeginForm())
                        {

                            <div class="form-group">

                                <div class="" style="background-color:#ffffff;">
                                    <div style="  padding:20px 0 20px 0; text-align:center; font-size:30px; ">登入</div>


                                    <div style="position: relative; margin: 15px auto 15px auto; width: 250px;">
                                        @Html.TextBoxFor(model => model.userManage.Account, new { @placeholder = "請輸入帳號", @class = "form-control", @style = "background-color:#F2ECE2;", @autofocus = "autofocus", @autocomplete = "on" })

                                        @{ if (ViewBag.UserStatus != null)
                                            {
                                                <p style="position: relative;" class="alert alert-danger alert-no-border" role="alert">
                                                    此帳號遭 @ViewBag.UserStatus<br>如有問題請聯繫客服
                                                </p>
                                            }
                                        }

                                    </div>

                                    <div style="position: relative; margin: 15px auto 15px auto; width: 250px;">
                                        @Html.PasswordFor(model => model.userManage.Password, new { @placeholder = "請輸入密碼", @class = "form-control", @id = "passwordInput", @style = "background-color:#F2ECE2;", @required = "required", @autocomplete = "on" })
                                        <span id="togglePassword" class="fa fa-eye-slash" style="position: absolute; right: 10px; top: 10px; cursor: pointer;"></span>

                                        @if (ViewBag.InvalidPassword != null && ViewBag.InvalidPassword)
                                        {
                                            <p style="position: relative;" class="alert alert-danger alert-no-border" role="alert">
                                                帳號或密碼錯誤!
                                            </p>
                                        }

                                    </div>

         

                                    <div class="text-right" style="position: relative; display: table; margin: 15px auto; width: 250px;">
                                        @Html.CheckBoxFor(model => model.rememberPassword)
                                        @Html.Label("記住密碼")
                                    </div>
                                    <div style="position: relative; display: table; margin: 15px auto; width: 250px;">
                                        <input type="submit" value="登入" class="btn btn-default  form-control" , style="background-color:#97CD7D;" />
                                    </div>

                                    @Html.ActionLink("註冊帳號", "Create", null, null, new { style = "position: absolute; left: 24%;" })

                                    @Html.ActionLink("忘記密碼", "forget_password", null, null, new { style = "position: absolute; right: 24%;" })


                                </div>


                            </div>

                        }
                    </div>
                </div>
       



        @section Scripts {
            @Scripts.Render("~/bundles/jqueryval")
        }


        <script>
            // 初始化密码显示/隐藏状态
            var passwordVisible = false;


            $(document).ready(function () {

                // 顯示隱藏密碼
                $("#togglePassword").click(function () {
                    console.log("click password");
                    var passwordInput = $("#passwordInput");
                    if (passwordVisible) {
                        passwordInput.attr("type", "password");
                        $("#togglePassword").removeClass("fa-eye").addClass("fa-eye-slash");
                    } else {
                        passwordInput.attr("type", "text");
                        $("#togglePassword").removeClass("fa-eye-slash").addClass("fa-eye");
                    }
                    passwordVisible = !passwordVisible;
                });
            });
        </script>